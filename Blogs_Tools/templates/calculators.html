{% extends 'base.html' %}
{% load static %}

{% block body %}

<!-- Savings Calculator -->
<div id="savingsCalculator" class="calculator{% if not show_savings_calculator %} hidden{% endif %}">
    <h2>Savings Calculator</h2>
    <form id="savingsForm">
        <div class="input-group">
            <label for="initialAmount">Initial Savings (â‚¹):</label>
            <input type="number" id="initialAmount" placeholder="Enter initial savings" required>
        </div>
        <div class="input-group">
            <label for="monthlyDeposit">Monthly Deposit (â‚¹):</label>
            <input type="number" id="monthlyDeposit" placeholder="Enter monthly deposit" required>
        </div>
        <div class="input-group">
            <label for="interestRate">Annual Interest Rate (%):</label>
            <input type="number" id="interestRate" placeholder="Enter annual interest rate" step="0.01" required>
        </div>
        <div class="input-group">
            <label for="years">Number of Years:</label>
            <input type="number" id="years" placeholder="Enter number of years" required>
        </div>
        <button type="button" id="cSavings" onclick="calculateSavings()">Calculate</button>
    </form>
    <div id="savingsResult"></div>
</div>

<!-- Loan Repayment Calculator -->
<div id="loanCalculator" class="calculator{% if not show_loan_calculator %} hidden{% endif %}">
    <h2>Loan Repayment Calculator</h2>
    <form id="loanForm">
        <div class="input-group">
            <label for="loanAmount">Loan Amount (â‚¹):</label>
            <input type="number" id="loanAmount" placeholder="Enter loan amount" required>
        </div>
        <div class="input-group">
            <label for="loanInterest">Annual Interest Rate (%):</label>
            <input type="number" id="loanInterest" placeholder="Enter interest rate" step="0.01" required>
        </div>
        <div class="input-group">
            <label for="loanYears">Loan Term (years):</label>
            <input type="number" id="loanYears" placeholder="Enter loan term" required>
        </div>
        <button type="button" id="cLoan" onclick="calculateLoan()">Calculate Monthly Payment</button>
    </form>
    <div id="loanResult"></div>
</div>

<!-- Investment Return Calculator -->
<div id="investmentCalculator" class="calculator{% if not show_investment_calculator %} hidden{% endif %}">
    <h2>Investment Return Calculator</h2>
    <form id="investmentForm">
        <div class="input-group">
            <label for="initialInvestment">Initial Investment Amount (â‚¹):</label>
            <input type="number" id="initialInvestment" placeholder="Enter initial investment" required>
        </div>
        <div class="input-group">
            <label for="annualAddition">Annual Addition (â‚¹):</label>
            <input type="number" id="annualAddition" placeholder="Enter annual addition" required>
        </div>
        <div class="input-group">
            <label for="investmentRate">Annual Interest Rate (%):</label>
            <input type="number" id="investmentRate" placeholder="Enter interest rate" step="0.01" required>
        </div>
        <div class="input-group">
            <label for="investmentYears">Number of Years:</label>
            <input type="number" id="investmentYears" placeholder="Enter number of years" required>
        </div>
        <button type="button" id="cInvestment" onclick="calculateInvestment()">Calculate Future Value</button>
    </form>
    <div id="investmentResult"></div>
</div>

<!-- Budget Planner -->
<div id="budgetPlanner" class="calculator {% if not show_budget_planner %}hidden{% endif %}">
    <h2>Budget Planner</h2>
    <form id="budgetForm">
        <div class="input-group">
            <label for="monthlyIncome">Monthly Income (â‚¹):</label>
            <input type="number" id="monthlyIncome" placeholder="Enter your income" required>
        </div>
        <div class="input-group">
            <label for="expenseName">Expense Name:</label>
            <input type="text" id="expenseName" placeholder="Example: Rent" required>
        </div>
        <div class="input-group">
            <label for="expenseAmount">Amount (â‚¹):</label>
            <input type="number" id="expenseAmount" placeholder="Enter amount" required>
        </div>
        <button type="button" id="addExpenseButton" onclick="addExpense()">Add Expense</button>
    </form>
    <ul id="expenseList"></ul>
    <div>Total Expenses: â‚¹<span id="totalExpenses">0</span></div>
    <div>Remaining Budget: â‚¹<span id="remainingBudget">0</span></div>
</div>

<!-- Tax Estimator -->
<div id="taxEstimator" class="calculator {% if not show_tax_estimator %}hidden{% endif %}">
    <h2>Tax Estimator</h2>
    <form id="taxForm">
        <div class="input-group">
            <label for="age">Age:</label>
            <input type="number" id="age" placeholder="Enter your age">
        </div>
        <div class="tax-inputs">
            <div class="input-group">
                <h2>Income Sources</h2>
                <label for="incomeSalary">Salary:</label>
                <input type="number" id="incomeSalary" placeholder="Enter salary income">
                <label for="incomeHouseProperty">House Property:</label>
                <input type="number" id="incomeHouseProperty" placeholder="Enter house income">
                <label for="incomeCapitalGains">Capital Gains:</label>
                <input type="number" id="incomeCapitalGains" placeholder="Enter capital gains">
                <label for="incomeBusiness">Business/Profession:</label>
                <input type="number" id="incomeBusiness" placeholder="Enter business income">
                <label for="incomeOtherSources">Other Sources:</label>
                <input type="number" id="incomeOtherSources" placeholder="Enter other income">
            </div>
            <div class="input-group">
                <h2>Deductions</h2>
                <label for="deduction80C">Sec 80C:</label>
                <input type="number" id="deduction80C" placeholder="Enter Sec 80C deductions">
                <label for="deduction80D">Medical Insurance:</label>
                <input type="number" id="deduction80D" placeholder="Enter 80D deductions">
                <label for="deductionHRA">HRA:</label>
                <input type="number" id="deductionHRA" placeholder="Enter HRA deductions">
                <label for="deductionInterestLoan">Home Loan Interest:</label>
                <input type="number" id="deductionInterestLoan" placeholder="Enter loan interest">
                <label for="deductionProfessionalTax">Professional Tax:</label>
                <input type="number" id="deductionProfessionalTax" placeholder="Enter professional tax">
            </div>
        </div>
        <button type="button" id="calculateTaxButton" onclick="calculateTax()">Calculate Tax</button>
    </form>
    <div>Estimated Tax Liability: â‚¹<span id="taxLiability">0</span></div>
</div>

<!-- ðŸ  Mortgage Calculator -->
<div id="mortgageCalculator" class="calculator{% if not show_mortgage_calculator %} hidden{% endif %}">
    <h2>Mortgage Calculator</h2>
    <form id="mortgageForm">
        <div class="input-group">
            <label for="mortgageAmount">Loan Amount (â‚¹):</label>
            <input type="number" id="mortgageAmount" placeholder="Enter loan amount" required>
        </div>
        <div class="input-group">
            <label for="mortgageRate">Annual Interest Rate (%):</label>
            <input type="number" id="mortgageRate" placeholder="Enter interest rate" step="0.01" required>
        </div>
        <div class="input-group">
            <label for="mortgageYears">Loan Term (years):</label>
            <input type="number" id="mortgageYears" placeholder="Enter loan term in years" required>
        </div>
        <button type="button" id="cMortgage" onclick="calculateMortgage()">Calculate Mortgage</button>
    </form>
    <div id="mortgageResult"></div>
</div>

<!-- Dynamic Calculator Controls -->
<div class="calculator-controls">
    <h3>Other Calculators</h3>
    <div class="button-grid">
        {% if type != 'savings' %}
        <a href="{% url 'calculators_with_type' type='savings' %}" class="othercalcis">Savings Calculator</a>
        {% endif %}
        {% if type != 'loan' %}
        <a href="{% url 'calculators_with_type' type='loan' %}" class="othercalcis">Loan Repayment Calculator</a>
        {% endif %}
        {% if type != 'investment' %}
        <a href="{% url 'calculators_with_type' type='investment' %}" class="othercalcis">Investment Return Calculator</a>
        {% endif %}
        {% if type != 'budget' %}
        <a href="{% url 'calculators_with_type' type='budget' %}" class="othercalcis">Budget Planner</a>
        {% endif %}
        {% if type != 'tax' %}
        <a href="{% url 'calculators_with_type' type='tax' %}" class="othercalcis">Tax Estimator</a>
        {% endif %}
        {% if type != 'mortgage' %}
        <a href="{% url 'calculators_with_type' type='mortgage' %}" class="othercalcis">Mortgage Calculator</a>
        {% endif %}
    </div>
</div>

<script src="{% static 'Js/calculators.js' %}"></script>
{% endblock body %}
